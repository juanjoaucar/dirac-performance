# ðŸŽˆ DIRAC performance tests

Streamlit app to visualize several DIRAC performance tests generated by GitHub Actions CI/CD.
Online platform avaliable at [https://dirac-performance.streamlit.app/](https://dirac-performance.streamlit.app/).
The reports are generated from [https://gitlab.com/gfaym/dirac/-/tree/performance-builds](https://gitlab.com/gfaym/dirac/-/tree/performance-builds) and downloaded from the corresponding create-pages artifacts.

## Streamlit Cloud Deployment

[![Open in Streamlit](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://blank-app-template.streamlit.app/)

### Steps to visualize

1. **Clone repository**
   - Go to [share.streamlit.io](https://share.streamlit.io)
   - Connect to the GitHub repository that contains the project

2. **Deployment configuration**
   - **Main file path:** `streamlit_app.py`
   - **Branch:** `main`

3. **Required directory structure**
   ```
   static/
     html/REPORT-NAME
       Index.html
       build-(...)/
         benchmark_report.html
       build-(...)/
         benchmark_report.html
       build-(...)/
         benchmark_report.html   ```

4. **Important notes**
   - HTML reports are generated by GitHub Actions CI/CD
   - The app only **reads and visualizes** the files. It does not modify them

5. **To deploy**
   - Click on "Deploy"
   - Wait for deployment
   - The app will be available at `https://dirac-performance.streamlit.app/`



### How to run it on your own machine

1. Create Python virtual environment

   ```
   $ python -m venv venv_streamlit

2. Activate Python virtual environment

   ```
   $ source venv_streamlit/bin/activate

3. Install the requirements

   ```
   $ pip install -r requirements.txt
   ```

4. Run the app

   ```
   $ streamlit run streamlit_app.py
   ```


The current version does not allow to open this directly in Streamlit. Work is in progress...
